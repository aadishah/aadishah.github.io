<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="shortcut icon" href="#">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Faculty Minds 16PF Test</title>
</head>
<body>
    <div class="m-4">
        <img src="../logo/logo.png" alt="Logo" height="200px" width="400px">
        <h1>Welcome to Faculty Minds</h1>
        <form>
            <div class="form-row mt-4">
                <label for="fullName" class="form-label">Full Name: Mr. /Mrs.</label>
                <input type="text" id="fullName" class="form-control" placeholder="Full Name in Capital letters" required>
            </div>
            <div class="form-row mt-4">
                <label for="dateOfBirth" class="form-label">Date of Birth:</label>
                <input type="date" id="dateOfBirth" class="form-control" required>
            </div>
            <div class="form-row mt-4">
                <label for="email" class="form-label">Email address:</label>
                <input type="email" id="email" class="form-control" placeholder="Email Address" required>
            </div>
            <div class="form-row mt-4">
                <label for="age" class="form-label">Age:</label>
                <input type="number" id="age" class="form-control" placeholder="Age" required>
            </div>
            <div class="form-row mt-4">
                Gender:
            </div>
            <div class="form-row btn-group" role="group">
                <input type="radio" id="femaleRadio" class="form-control btn-check" name="btnradio" autocomplete="off" value="Female" required>
                <label class="btn btn-outline-primary" for="femaleRadio">Female</label>
                
                <input type="radio" id="maleRadio" class="form-control btn-check" name="btnradio" autocomplete="off" value="Male" required>
                <label class="btn btn-outline-primary" for="maleRadio">Male</label>
                
                <input type="radio" id="otherRadio" class="form-control btn-check" name="btnradio" autocomplete="off" value="Other" required>
                <label class="btn btn-outline-primary" for="otherRadio">Other</label>
            </div>
            <div class="form-row d-flex mt-4 mb-5">
                <button id="submitButton" type="submit" class="btn btn-primary" onclick="submitClicked()">Submit</button> 
            </div>
        </form>
    </div>
    <script>
        dateOfBirth.max = new Date().toLocaleDateString('en-ca');
        function submitClicked(){
            document.getElementById('submitButton').disabled = true;
            localStorage.clear();
            let fullName = document.getElementById('fullName').value;
            let email = document.getElementById('email').value;
            let dateOfBirth = document.getElementById('dateOfBirth').value;
            let age = document.getElementById('age').value;
            let gender = '';

            if (document.getElementById('femaleRadio').checked) {
                gender = document.getElementById('femaleRadio').value;
            } else if (document.getElementById('maleRadio').checked) {
                gender = document.getElementById('maleRadio').value;
            }
            else if (document.getElementById('otherRadio').checked) {
                gender = document.getElementById('otherRadio').value;
            }
            if (fullName && dateOfBirth && email && age && gender) {
                //dateOfBirth = new Date(dateOfBirth);
                let demographics = {fullName, age, dateOfBirth, email, gender};
                localStorage.setItem('demographics', JSON.stringify(demographics));
                window.location.href="./main.html";
            } else {
                document.getElementById('submitButton').disabled = false;
            }
        }
    </script>
</body>
</html>